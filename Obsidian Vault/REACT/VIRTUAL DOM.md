# Virtual DOM

Ну там под капотом строится дерево элементов (это дерево тех компонентов, которые мы используем) и когда мы изменяем состояние в каком-то из компонентов, реакт имеет некоторые фазы —  согласование, рендеринг и так далее.

И он сравнивает одну ветку с другой веткой этого дерева, смотрит где у нас изменились пропсы, где изменился стейт, накапливает пачку изменений и эту пачку накладывает на новое дерево. Соответственно перерисовывает только ту ветку, которая изменилась. *(По умному называется `reconciliation` (фаза согласования))*



*Главная проблема DOM — он никогда не был рассчитан для создания динамического пользовательского интерфейса (UI). Мы можем работать с ним, используя JavaScript и библиотеки наподобие jQuery, но их использование не решает проблем с производительностью.*

*Вместо того, чтобы взаимодействовать с DOM напрямую, мы работаем с его легковесной копией. Мы можем вносить изменения в копию, исходя из наших потребностей, а после этого применять изменения к реальному DOM.  
При этом происходит сравнение DOM-дерева с его виртуальной копией, определяется разница и запускается перерисовка того, что было изменено.*

[[VIRTUAL DOM]], [[DOM]], [[React]]

#React, #VirtualDOM, #DOM